# nonebot-csust-electricity

`nonebot-csust-electricity` 是一个适用于 [NoneBot2](https://github.com/nonebot/nonebot2) 的插件，专门用于查询 [长沙理工大学](https://www.csust.edu.cn/) 校区内宿舍的电量，并支持设置定时提醒。用户可以方便地查询宿舍电量、绑定和解绑宿舍信息，还可以设置定时查询提醒，确保及时了解电量状况。

## 功能

-   **电量查询**：用户可以通过命令查询指定宿舍的电量，支持按校区、宿舍楼和宿舍号查询。
-   **宿舍绑定与解绑**：支持绑定宿舍，绑定后可以直接查询电量，解绑宿舍也非常简便。
-   **定时提醒**：支持设置定时查询电量，用户可以设置每天的查询时间，插件将定时提醒电量更新。

## 安装

1. **安装插件**：

    将 `nonebot-csust-electricity` 添加到您的 NoneBot2 项目中：

    ```bash
    git clone https://github.com/zHElEARN/nonebot-csust-electricity plugins/nonebot-csust-electricity
    ```

2. **环境配置**：

    在项目根目录的 `.env` 配置文件或其他配置文件中添加以下配置项：

    ```ini
    # 数据存储路径配置
    CSUST_ELECTRICITY__DATA_STORAGE_PATH="/path/to/storage"  # 可选，存储电量数据和定时任务配置
    ```

    如果没有配置该项，插件会使用默认存储路径。

## 使用方法

### 1. 查询电量

通过发送 `/电量 校区 宿舍楼 宿舍号` 来查询电量，或通过 `/电量 校区` 查询该校区的宿舍楼信息。

**示例：**

-   `/电量 云塘 至诚轩5栋A区 A233`

### 2. 绑定宿舍

通过发送 `/绑定宿舍 校区 宿舍楼 宿舍号` 来绑定宿舍。绑定后，用户可以直接发送 `/电量` 来查询电量。

**示例：**

-   `/绑定宿舍 云塘 16栋A区 A101`

### 3. 解绑宿舍

在群聊或私聊中发送 `/解绑` 来解绑当前绑定的宿舍。

### 4. 定时查询

通过发送 `/定时查询 HH:MM` 来设置定时提醒查询电量。

**示例：**

-   `/定时查询 08:00`

### 5. 取消定时查询

通过发送 `/取消定时查询` 来取消定时查询提醒。

## 示例

```plaintext
/电量 云塘 至诚轩5栋A区 A233   # 查询指定宿舍的电量
/绑定宿舍 云塘 16栋A区 A101    # 绑定宿舍
/解绑                         # 解绑当前宿舍
/定时查询 08:00               # 设置定时查询时间为 08:00
/取消定时查询                 # 取消定时查询提醒
```
